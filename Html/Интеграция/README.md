Интеграция в проект
===================

Для всех проектов есть общие обязательные к соблюдению правила: 
- Верстка и код лежат в *одном* git-репозитории. Если по какой-то причине и появилось два - должен остаться только один (с).
- Верстка не может лежать в корне проекта. Так же проект не должен сожержать в корне каталоги отдельно для верстки, отдельно - для фреймворка
- Верстка должна располагаться в каталоге фреймворка, где расположены шаблоны. Например, '''/local/templates/main/''' - для битрикса

Интеграция в bitrix
===================

Верстка должна располагаться в каталоге ***/local/templates/\<template name\>/markup***.
  - Если у сайта всего один шаблон, то верстка должна располагаться в каталоге этого шаблона. Таким образом, стандартный шаблон битрикс будет содержать дополнительный каталог ***markup***.
  - Если у сайта должно быть несколько шаблонов. использующих одни и те же файлы верстки, то: 
    - Создается служебный шаблон ***shared***
    - В него помещается верстка. Таким образом, шаблон ***shared*** - это аналог каталога ***markup*** внутри обычного шалона.
    - Создаются прочие необходимые шаблоны
    - В них создаётся симлинк на каталог ***shared***: ```sh ln -s ../shared markup```. Таким образом, внутри каждого шаблона появляется каталог markup с общей версткой. 
    - Симлинки должны быть прописаны в .gitignore
  - В процессе интеграции верстки необходимо ссылаться на файлы в каталоге ***markup/build*** - здесь лежит собранная верстка. Нельзя ссылаться на ресурсы, расположенные вне этого каталога. 

Использование данного подхода даёт следующие преимущества: 
- Верстка тесто связана с шаблоном, не нужно её искать по проекту или даже по проектам
- При изменениях в JS и CSS файлах нет необходимости осуществлять их ручной перенос, т.к. в шаблоне автоматически подключаются самые свежие версии из каталога сборки верстки
- Верстальщик может без проблем вносить правки в уже интегрированную в CMS верстку: изменения в CSS и JS сразу подхватятся без дополнительной интеграции
